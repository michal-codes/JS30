<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="author" content="Michal Codes" />
    <title>a l p h a b e t</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
  </head>
  <body>
    <!-- <h1>a l p h a b e t</h1> -->

    <div class="keys">
      <div class="keys-row-1">
        <div data-key="81" class="key"><kbd>Q</kbd></div>
        <div data-key="87" class="key"><kbd>W</kbd></div>
        <div data-key="69" class="key"><kbd>E</kbd></div>
        <div data-key="82" class="key"><kbd>R</kbd></div>
        <div data-key="84" class="key"><kbd>T</kbd></div>
        <div data-key="89" class="key"><kbd>Y</kbd></div>
        <div data-key="85" class="key"><kbd>U</kbd></div>
        <div data-key="73" class="key"><kbd>I</kbd></div>
        <div data-key="79" class="key"><kbd>O</kbd></div>
        <div data-key="80" class="key"><kbd>P</kbd></div>
      </div>
      <div class="keys-row-2">
        <div data-key="65" class="key"><kbd>A</kbd></div>
        <div data-key="83" class="key"><kbd>S</kbd></div>
        <div data-key="68" class="key"><kbd>D</kbd></div>
        <div data-key="70" class="key"><kbd>F</kbd></div>
        <div data-key="71" class="key"><kbd>G</kbd></div>
        <div data-key="72" class="key"><kbd>H</kbd></div>
        <div data-key="74" class="key"><kbd>J</kbd></div>
        <div data-key="75" class="key"><kbd>K</kbd></div>
        <div data-key="76" class="key"><kbd>L</kbd></div>
      </div>
      <div class="keys-row-3">
        <div data-key="90" class="key"><kbd>Z</kbd></div>
        <div data-key="88" class="key"><kbd>X</kbd></div>
        <div data-key="67" class="key"><kbd>C</kbd></div>
        <div data-key="86" class="key"><kbd>V</kbd></div>
        <div data-key="66" class="key"><kbd>B</kbd></div>
        <div data-key="78" class="key"><kbd>N</kbd></div>
        <div data-key="77" class="key"><kbd>M</kbd></div>
      </div>
    </div>
    <audio src="sounds/Q.wav" data-key="81"></audio>
    <audio src="sounds/W.wav" data-key="87"></audio>
    <audio src="sounds/E.wav" data-key="69"></audio>
    <audio src="sounds/R.wav" data-key="82"></audio>
    <audio src="sounds/T.wav" data-key="84"></audio>
    <audio src="sounds/Y.wav" data-key="89"></audio>
    <audio src="sounds/U.wav" data-key="85"></audio>
    <audio src="sounds/I.wav" data-key="73"></audio>
    <audio src="sounds/O.wav" data-key="79"></audio>
    <audio src="sounds/P.wav" data-key="80"></audio>
    <audio src="sounds/A.wav" data-key="65"></audio>
    <audio src="sounds/S.wav" data-key="83"></audio>
    <audio src="sounds/D.wav" data-key="68"></audio>
    <audio src="sounds/F.wav" data-key="70"></audio>
    <audio src="sounds/G.wav" data-key="71"></audio>
    <audio src="sounds/H.wav" data-key="72"></audio>
    <audio src="sounds/J.wav" data-key="74"></audio>
    <audio src="sounds/K.wav" data-key="75"></audio>
    <audio src="sounds/L.wav" data-key="76"></audio>
    <audio src="sounds/Z.wav" data-key="90"></audio>
    <audio src="sounds/X.wav" data-key="88"></audio>
    <audio src="sounds/C.wav" data-key="67"></audio>
    <audio src="sounds/V.wav" data-key="86"></audio>
    <audio src="sounds/B.wav" data-key="66"></audio>
    <audio src="sounds/N.wav" data-key="78"></audio>
    <audio src="sounds/M.wav" data-key="77"></audio>

    <script>
      const playSound = e => {
        // select audio with querySelector using ES6 Template Literal
        const sound = document.querySelector(`audio[data-key="${e.keyCode}"]`);
        const key = document.querySelector(`.key[data-key='${e.keyCode}']`);

        if (!sound) return; // exit when audio tag not found
        sound.currentTime = 0;
        sound.play();
        key.classList.add('playing');
      };
      // function removeTransition when transition is finished it removes class playing from key
      function removeTransition(e) {
        this.classList.remove('playing');
      }

      const keys = document.querySelectorAll('.key');
      keys.forEach(function(item) {
        item.addEventListener('transitionend', removeTransition);
      });

      window.addEventListener('keydown', playSound);
    </script>
  </body>
</html>
